version: 1.0.{build}
image: Visual Studio 2022

build_script:
  - choco install firefox -y
  - choco install tightvnc -y
  - choco install ngrok -y
  - tightvncserver -setpasswd vncpassword123
  - sc config WinVNC start= auto
  - net start WinVNC

  - ngrok config add-authtoken 2cIx3je3QxsciK8CzDrlvP5e0kT_6zptrYFhwYF7paFjZHXYU

  - start /B ngrok tcp 5900
  - timeout /t 10
  - curl http://127.0.0.1:4040/api/tunnels > tunnels.json
  - type tunnels.json

  - echo "ðŸ”¥ VNC server running â€” connect with VNC Viewer!"
  - timeout /t 1800
